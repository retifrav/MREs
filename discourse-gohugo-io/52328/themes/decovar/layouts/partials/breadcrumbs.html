<ul class="breadcrumbs">
    {{ template "breadcrumbnav" (dict "p1" . "p2" .) }}
</ul>
<hr class="breadcrumbs" />

{{ define "breadcrumbnav" }}
    {{ if not .p1.IsHome }}
        {{ if .p1.Parent }}
            {{ template "breadcrumbnav" (dict "p1" .p1.Parent "p2" .p2 )  }}
        {{ else if not .p1.IsHome }}
            {{ template "breadcrumbnav" (dict "p1" .p1.Site.Home "p2" .p2 )  }}
        {{ end }}
        {{ if ne .p1 .p2 }}
            <li><a href="{{ .p1.Permalink }}">{{ .p1.Title }}</a></li>
            <li class="breadcrumb">/</li>
        {{ else }}
            <li class="breadcrumb active">{{ .p1.Title }}</li>
        {{ end }}
    {{ end }}
{{ end }}
